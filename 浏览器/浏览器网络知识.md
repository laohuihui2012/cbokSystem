### HTTP
（HyperText Transfer Protocol，超文本传输协议）

Web是建立在HTTP协议上通信的。

HTTP是不保存状态的协议，既无状态协议，协议本身对于请求或响应之间的通信状态不进行保存，因此连接双方不能知晓对方当前的身份和状态
所以才出现了cookie

cookie（浏览器会根据从服务器端发送的响应报文内 Set-Cookie 首部字段信息自动保持 Cookie。而每次客户端发送 HTTP 请求，都会在请求报文中携带 Cookie，作为服务端识别客户端身份状态的标识。）
### TCP/IP 协议族
TCP/IP 协议族是Internet最基本的协议，HTTP协议是它的一个子集。TCP/IP协议族按层次分为以下四层：
- 应用层 （应用层规定了向用户提供应用服务时通信的协议，如：DNS域名系统提供域名（如：www.baidu.com）到IP地址（如：119.75.217.109）之间的解析服务。）

- 传输层

- 网络层 （网络层规定了数据通过怎样的传输路线到达对方计算机传送给对方（IP协议等））

- 链路层 （用来处理连接网络的硬件部分，包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡）

### 传输层 TCP/UDP协议 
```
传输层是非常重要的一层,具有承上启下,向上对应用层提供通信服务,向下将应用层信息封装为网络信息.
传输层连接主机之间的进程,同一主机中不同进程的网络通信通过端口进行区分,所以传输层为主机提供的是端口对端口的服务.
```
传输层对接上层应用层，提供处于网络连接中两台计算机之间的数据传输所使用的协议。

在传输层有两个性质不同的协议：TCP（Transmission Control Protocol，传输控制协议）和UDP（User Data Protocol，用户数据报协议）。

TCP协议是全双工的，即发送数据和接收数据是同步进行的，就好像我们打电话一样，说话的同时也能听见。TCP协议在建立和断开连接时有三次握手和四次挥手，因此在传输的过程中更稳定可靠但同时就没UDP那么高效了。

UDP协议是面向无连接的，也就是说在正式传递数据之前不需要先建立连接。UDP 协议不保证有序且不丢失的传递到对端，也就是说不够稳定，但也正因如此，UDP协议比TCP更加高效和轻便。

### http
HTTP 是构建在 TCP/IP 之上的应用层协议,而 HTTPS 是在 HTTP 之下加入 SSL/TLS.
简单介绍下,HTTP 是超文本传输协议的英文缩写,它是 Internet 上最主要的 Web 应用层标准,HTTP 能够传输任何格式的数据.

#### http 请求流程
```
1.构建请求
2.查找缓存(强缓存和协商缓存304)
3.准备IP地址和端口(可能需要DNS解析)
4.等待 TCP 队列: 同一个域名下最多建立6个tcp连接
5.建立 tcp 连接
6.发送 http 请求: 请求头,请求行,请求体
7.服务器处理 http 请求后返回对应响应信息: 响应行(状态码), 响应头, 响应体
8.断开连接: keep-alive
```

### http 版本
```
# HTTP/0.9
  - 只有请求行,没有请求头和请求体
  - 服务器为返回头部信息
  - 内容通过 ASCII 字符流传输

# HTTP/1.0
  - 加入请求体: 支持文件类型,压缩,语言,编码类型
  - 加入状态码
  - 提供了 cache 缓存机制
  - 加入用户代理

# HTTP/1.1
  - 增加持久连接: 一个 tcp 连接上可以发送多个 http 请求
  - 提供虚拟主机: host
  - 支持动态内容 chunk transfer 机制
  - cookie,安全机制
  - 每个域名同时可维护6个tcp持久连接

  - 存在队头阻塞问题(传输过程中出现的单个数据包丢失导致的阻塞) 
  - 带宽利用率不高, tcp 连接竞争固定带宽

# HTTP/2.0
  - 多路复用
  - 设置请求优先级
  - 服务器推送
  - 头部压缩
```

### 串行连接、持久连接、管道化持久连接、http/2.0多路复用简介
```
串行连接： HTTP有无连接的特性，即每次连接只能处理一个请求，收到响应后立即断开连接。
HTTP/1.0 版本（称为串行连接或短连接、短轮询）中每次HTTP通信后都要断开TCP连接，所以每个新的HTTP请求都需要建立一个新的连接。
但在现在网站动则几十条HTTP请求的情况下，很容易达到浏览器请求上限，并且每次请求都建立新的tcp连接（每次都有三次握手四次挥别）
极大的增加了通信开销。


持久连接： 为解决这个问题，有人提出了持久连接（也叫长连接、长轮询）。一定时间内，同一域名下的HTTP请求，
只要两端都没有提出断开连接，则持久保持TCP连接状态，其他请求可以复用这个连接通道。HTTP/1.1 实现并默认了
所有连接都是持久连接，这样客户端发起多个HTTP请求时就减少了TCP握手造成的网络资源和通信时间的浪费。
但是持久连接采用阻塞模式，下次请求必须等到上次响应返回后才能发起，如果上次的请求还没返回响应内容，
下次请求就只能等着（就是常说的线头阻塞）。管道化持久连接： 管道化则可以不用等待响应返回而发送下个请求
并按顺序返回响应，现代浏览器并未默认开启管道化。（这方面收集到的资料有限不多说了）


HTTP/2.0多路复用： 每个HTTP请求都有一个序列标识符，这样浏览器可以并发多个请求，服务器接收到数据后，
再根据序列标识符重新排序成不同的请求报文，而不会导致数据错乱（ 细节参照此文）。同样，服务端也可以并发返回多个响应给浏览器，
浏览器收到后根据序列标识重新排序并归入各自的请求的响应报文。并且同一个域名下的所有请求都复用同一个TCP连接，极大增加了服务器处理并发的上限。


WebSocket： WebSocket是HTML5提出的一种客户端和服务端通讯的全双工协议，由客户端发起请求，建立连接之后不仅客户端可以
主动向服务端发送请求，服务端可以主动向客户端推送信息。
```

### HTTPS
超文本传输安全协议,是一种通过计算机网络进行安全通信的传输协议。

HTTPS基于HTTP协议，通过SSL或TLS（可以看作SSL3.0）提供加密处理数据、验证对方身份以及数据完整性保护。特点如下：

- 内容加密：采用混合加密技术，中间者无法直接查看明文内容
- 验证身份：通过证书认证客户端访问的是自己的服务器
- 保护数据完整性：防止传输的内容被中间人冒充或者篡改

##### HTTPS和HTTP的区别主要如下：
- 1.HTTPS协议需要到CA（证书颁发机构）申请证书，一般免费证书很少，需要交费。

- 2.HTTP协议运行在TCP之上，所有传输的内容都是明文，HTTPS运行在SSL/TLS之上，SSL/TLS运行在TCP之上，所有传输的内容都经过加密的。

- 3.HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

- 4.http的连接很简单，是无状态的；HTTPS协议是由HTTP+SSL协议构建的可进行加密传输、身份认证的网络协议，
可以有效的防止运营商劫持，解决了防劫持的一个大问题，比http协议安全。